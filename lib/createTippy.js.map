{"version":3,"file":"createTippy.js","sources":["../src-js/constants.js","../src-js/utils.js","../src-js/dom-utils.js","../src-js/bindGlobalEventListeners.js","../src-js/browser.js","../src-js/validation.js","../src-js/props.js","../src-js/template.js","../src-js/createTippy.js"],"sourcesContent":["export const ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nexport const BOX_CLASS = `__NAMESPACE_PREFIX__-box`;\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`;\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`;\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`;\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svg-arrow`;\nexport const TOUCH_OPTIONS = { passive: true, capture: true };\nexport const TIPPY_DEFAULT_APPEND_TO = () => document.body;\n","export function hasOwnProperty(obj, key) {\n    return {}.hasOwnProperty.call(obj, key);\n}\nexport function getValueAtIndexOrReturn(value, index, defaultValue) {\n    if (Array.isArray(value)) {\n        const v = value[index];\n        return v == null\n            ? Array.isArray(defaultValue)\n                ? defaultValue[index]\n                : defaultValue\n            : v;\n    }\n    return value;\n}\nexport function isType(value, type) {\n    const str = {}.toString.call(value);\n    return str.indexOf('[object') === 0 && str.indexOf(`${type}]`) > -1;\n}\nexport function invokeWithArgsOrReturn(value, args) {\n    return typeof value === 'function' ? value(...args) : value;\n}\nexport function debounce(fn, ms) {\n    // Avoid wrapping in `setTimeout` if ms is 0 anyway\n    if (ms === 0) {\n        return fn;\n    }\n    let timeout;\n    return (arg) => {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            fn(arg);\n        }, ms);\n    };\n}\nexport function removeProperties(obj, keys) {\n    const clone = Object.assign({}, obj);\n    keys.forEach((key) => {\n        delete clone[key];\n    });\n    return clone;\n}\nexport function splitBySpaces(value) {\n    return value.split(/\\s+/).filter(Boolean);\n}\nexport function normalizeToArray(value) {\n    return [].concat(value);\n}\nexport function pushIfUnique(arr, value) {\n    if (arr.indexOf(value) === -1) {\n        arr.push(value);\n    }\n}\nexport function appendPxIfNumber(value) {\n    return typeof value === 'number' ? `${value}px` : value;\n}\nexport function unique(arr) {\n    return arr.filter((item, index) => arr.indexOf(item) === index);\n}\nexport function getNumber(value) {\n    return typeof value === 'number' ? value : parseFloat(value);\n}\nexport function getBasePlacement(placement) {\n    return placement.split('-')[0];\n}\nexport function arrayFrom(value) {\n    return [].slice.call(value);\n}\nexport function removeUndefinedProps(obj) {\n    return Object.keys(obj).reduce((acc, key) => {\n        if (obj[key] !== undefined) {\n            acc[key] = obj[key];\n        }\n        return acc;\n    }, {});\n}\n","import { arrayFrom, isType, normalizeToArray, getBasePlacement } from './utils';\nexport function div() {\n    return document.createElement('div');\n}\nexport function isElement(value) {\n    return ['Element', 'Fragment'].some((type) => isType(value, type));\n}\nexport function isNodeList(value) {\n    return isType(value, 'NodeList');\n}\nexport function isMouseEvent(value) {\n    return isType(value, 'MouseEvent');\n}\nexport function isReferenceElement(value) {\n    return !!(value && value._tippy && value._tippy.reference === value);\n}\nexport function getArrayOfElements(value) {\n    if (isElement(value)) {\n        return [value];\n    }\n    if (isNodeList(value)) {\n        return arrayFrom(value);\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return arrayFrom(document.querySelectorAll(value));\n}\nexport function setTransitionDuration(els, value) {\n    els.forEach((el) => {\n        if (el) {\n            el.style.transitionDuration = `${value}ms`;\n        }\n    });\n}\nexport function setVisibilityState(els, state) {\n    els.forEach((el) => {\n        if (el) {\n            el.setAttribute('data-state', state);\n        }\n    });\n}\nexport function getOwnerDocument(elementOrElements) {\n    var _a;\n    const [element] = normalizeToArray(elementOrElements);\n    // Elements created via a <template> have an ownerDocument with no reference to the body\n    return ((_a = element === null || element === void 0 ? void 0 : element.ownerDocument) === null || _a === void 0 ? void 0 : _a.body) ? element.ownerDocument : document;\n}\nexport function isCursorOutsideInteractiveBorder(popperTreeData, event) {\n    const { clientX, clientY } = event;\n    return popperTreeData.every(({ popperRect, popperState, props }) => {\n        const { interactiveBorder } = props;\n        const basePlacement = getBasePlacement(popperState.placement);\n        const offsetData = popperState.modifiersData.offset;\n        if (!offsetData) {\n            return true;\n        }\n        const topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n        const bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n        const leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n        const rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n        const exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n        const exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n        const exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n        const exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n        return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n    });\n}\nexport function updateTransitionEndListener(box, action, listener) {\n    const method = `${action}EventListener`;\n    // some browsers apparently support `transition` (unprefixed) but only fire\n    // `webkitTransitionEnd`...\n    ['transitionend', 'webkitTransitionEnd'].forEach((event) => {\n        box[method](event, listener);\n    });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\nexport function actualContains(parent, child) {\n    var _a, _b;\n    let target = child;\n    while (target) {\n        if (parent.contains(target)) {\n            return true;\n        }\n        target = (_b = (_a = target.getRootNode) === null || _a === void 0 ? void 0 : _a.call(target)) === null || _b === void 0 ? void 0 : _b.host;\n    }\n    return false;\n}\n","import { TOUCH_OPTIONS } from './constants';\nimport { isReferenceElement } from './dom-utils';\nexport const currentInput = { isTouch: false };\nlet lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart() {\n    if (currentInput.isTouch) {\n        return;\n    }\n    currentInput.isTouch = true;\n    if (window.performance) {\n        document.addEventListener('mousemove', onDocumentMouseMove);\n    }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove() {\n    const now = performance.now();\n    if (now - lastMouseMoveTime < 20) {\n        currentInput.isTouch = false;\n        document.removeEventListener('mousemove', onDocumentMouseMove);\n    }\n    lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur() {\n    const activeElement = document.activeElement;\n    if (isReferenceElement(activeElement)) {\n        const instance = activeElement._tippy;\n        if (activeElement.blur && !instance.state.isVisible) {\n            activeElement.blur();\n        }\n    }\n}\nexport default function bindGlobalEventListeners() {\n    document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n    window.addEventListener('blur', onWindowBlur);\n}\n","export const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nexport const isIE11 = isBrowser\n    ? // @ts-ignore\n        !!window.msCrypto\n    : false;\n","export function createMemoryLeakWarning(method) {\n    const txt = method === 'destroy' ? 'n already-' : ' ';\n    return [\n        `${method}() was called on a${txt}destroyed instance. This is a no-op but`,\n        'indicates a potential memory leak.',\n    ].join(' ');\n}\nexport function clean(value) {\n    const spacesAndTabs = /[ \\t]{2,}/g;\n    const lineStartWithSpaces = /^[ \\t]*/gm;\n    return value\n        .replace(spacesAndTabs, ' ')\n        .replace(lineStartWithSpaces, '')\n        .trim();\n}\nfunction getDevMessage(message) {\n    return clean(`\n  %ctippy.js\n\n  %c${clean(message)}\n\n  %cðŸ‘·â€ This is a development-only message. It will be removed in production.\n  `);\n}\nexport function getFormattedMessage(message) {\n    return [\n        getDevMessage(message),\n        // title\n        'color: #00C584; font-size: 1.3em; font-weight: bold;',\n        // message\n        'line-height: 1.5',\n        // footer\n        'color: #a6a095;',\n    ];\n}\n// Assume warnings and errors never have the same message\nlet visitedMessages;\nif (__DEV__) {\n    resetVisitedMessages();\n}\nexport function resetVisitedMessages() {\n    visitedMessages = new Set();\n}\nexport function warnWhen(condition, message) {\n    if (condition && !visitedMessages.has(message)) {\n        visitedMessages.add(message);\n        console.warn(...getFormattedMessage(message));\n    }\n}\nexport function errorWhen(condition, message) {\n    if (condition && !visitedMessages.has(message)) {\n        visitedMessages.add(message);\n        console.error(...getFormattedMessage(message));\n    }\n}\nexport function validateTargets(targets) {\n    const didPassFalsyValue = !targets;\n    const didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' &&\n        !targets.addEventListener;\n    errorWhen(didPassFalsyValue, [\n        'tippy() was passed',\n        '`' + String(targets) + '`',\n        'as its targets (first) argument. Valid types are: String, Element,',\n        'Element[], or NodeList.',\n    ].join(' '));\n    errorWhen(didPassPlainObject, [\n        'tippy() was passed a plain object which is not supported as an argument',\n        'for virtual positioning. Use props.getReferenceClientRect instead.',\n    ].join(' '));\n}\n","import { hasOwnProperty, removeProperties, invokeWithArgsOrReturn, } from './utils';\nimport { warnWhen } from './validation';\nimport { TIPPY_DEFAULT_APPEND_TO } from './constants';\nconst pluginProps = {\n    animateFill: false,\n    followCursor: false,\n    inlinePositioning: false,\n    sticky: false,\n};\nconst renderProps = {\n    allowHTML: false,\n    animation: 'fade',\n    arrow: true,\n    content: '',\n    inertia: false,\n    maxWidth: 350,\n    role: 'tooltip',\n    theme: '',\n    zIndex: 9999,\n};\nexport const defaultProps = Object.assign(Object.assign({ appendTo: TIPPY_DEFAULT_APPEND_TO, aria: {\n        content: 'auto',\n        expanded: 'auto',\n    }, delay: 0, duration: [300, 250], getReferenceClientRect: null, hideOnClick: true, ignoreAttributes: false, interactive: false, interactiveBorder: 2, interactiveDebounce: 0, moveTransition: '', offset: [0, 10], onAfterUpdate() { },\n    onBeforeUpdate() { },\n    onCreate() { },\n    onDestroy() { },\n    onHidden() { },\n    onHide() { },\n    onMount() { },\n    onShow() { },\n    onShown() { },\n    onTrigger() { },\n    onUntrigger() { },\n    onClickOutside() { }, placement: 'top', plugins: [], popperOptions: {}, render: null, showOnCreate: false, touch: true, trigger: 'mouseenter focus', triggerTarget: null }, pluginProps), renderProps);\nconst defaultKeys = Object.keys(defaultProps);\nexport const setDefaultProps = (partialProps) => {\n    /* istanbul ignore else */\n    if (__DEV__) {\n        validateProps(partialProps, []);\n    }\n    const keys = Object.keys(partialProps);\n    keys.forEach((key) => {\n        defaultProps[key] = partialProps[key];\n    });\n};\nexport function getExtendedPassedProps(passedProps) {\n    const plugins = passedProps.plugins || [];\n    const pluginProps = plugins.reduce((acc, plugin) => {\n        var _a;\n        const { name, defaultValue } = plugin;\n        if (name) {\n            acc[name] =\n                passedProps[name] !== undefined\n                    ? passedProps[name]\n                    : (_a = defaultProps[name]) !== null && _a !== void 0 ? _a : defaultValue;\n        }\n        return acc;\n    }, {});\n    return Object.assign(Object.assign({}, passedProps), pluginProps);\n}\nexport function getDataAttributeProps(reference, plugins) {\n    const propKeys = plugins\n        ? Object.keys(getExtendedPassedProps(Object.assign(Object.assign({}, defaultProps), { plugins })))\n        : defaultKeys;\n    const props = propKeys.reduce((acc, key) => {\n        const valueAsString = (reference.getAttribute(`data-tippy-${key}`) || '').trim();\n        if (!valueAsString) {\n            return acc;\n        }\n        if (key === 'content') {\n            acc[key] = valueAsString;\n        }\n        else {\n            try {\n                acc[key] = JSON.parse(valueAsString);\n            }\n            catch (e) {\n                acc[key] = valueAsString;\n            }\n        }\n        return acc;\n    }, {});\n    return props;\n}\nexport function evaluateProps(reference, props) {\n    const out = Object.assign(Object.assign(Object.assign({}, props), { content: invokeWithArgsOrReturn(props.content, [reference]) }), (props.ignoreAttributes\n        ? {}\n        : getDataAttributeProps(reference, props.plugins)));\n    out.aria = Object.assign(Object.assign({}, defaultProps.aria), out.aria);\n    out.aria = {\n        expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n        content: out.aria.content === 'auto'\n            ? props.interactive\n                ? null\n                : 'describedby'\n            : out.aria.content,\n    };\n    return out;\n}\nexport function validateProps(partialProps = {}, plugins = []) {\n    const keys = Object.keys(partialProps);\n    keys.forEach((prop) => {\n        const nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n        let didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop);\n        // Check if the prop exists in `plugins`\n        if (didPassUnknownProp) {\n            didPassUnknownProp =\n                plugins.filter((plugin) => plugin.name === prop).length === 0;\n        }\n        warnWhen(didPassUnknownProp, [\n            `\\`${prop}\\``,\n            \"is not a valid prop. You may have spelled it incorrectly, or if it's\",\n            'a plugin, forgot to pass it in an array as props.plugins.',\n            '\\n\\n',\n            'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n',\n            'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/',\n        ].join(' '));\n    });\n}\n","import { ARROW_CLASS, BACKDROP_CLASS, BOX_CLASS, CONTENT_CLASS, SVG_ARROW_CLASS, } from './constants';\nimport { div, isElement } from './dom-utils';\nimport { arrayFrom } from './utils';\n// Firefox extensions don't allow .innerHTML = \"...\" property. This tricks it.\nconst innerHTML = () => 'innerHTML';\nfunction dangerouslySetInnerHTML(element, html) {\n    element[innerHTML()] = html;\n}\nfunction createArrowElement(value) {\n    const arrow = div();\n    if (value === true) {\n        arrow.className = ARROW_CLASS;\n    }\n    else {\n        arrow.className = SVG_ARROW_CLASS;\n        if (isElement(value)) {\n            arrow.appendChild(value);\n        }\n        else {\n            dangerouslySetInnerHTML(arrow, value);\n        }\n    }\n    return arrow;\n}\nexport function setContent(content, props) {\n    if (isElement(props.content)) {\n        dangerouslySetInnerHTML(content, '');\n        content.appendChild(props.content);\n    }\n    else if (typeof props.content !== 'function') {\n        if (props.allowHTML) {\n            dangerouslySetInnerHTML(content, props.content);\n        }\n        else {\n            content.textContent = props.content;\n        }\n    }\n}\nexport function getChildren(popper) {\n    const box = popper.firstElementChild;\n    const boxChildren = arrayFrom(box.children);\n    return {\n        box,\n        content: boxChildren.find((node) => node.classList.contains(CONTENT_CLASS)),\n        arrow: boxChildren.find((node) => node.classList.contains(ARROW_CLASS) ||\n            node.classList.contains(SVG_ARROW_CLASS)),\n        backdrop: boxChildren.find((node) => node.classList.contains(BACKDROP_CLASS)),\n    };\n}\nexport function render(instance) {\n    const popper = div();\n    const box = div();\n    box.className = BOX_CLASS;\n    box.setAttribute('data-state', 'hidden');\n    box.setAttribute('tabindex', '-1');\n    const content = div();\n    content.className = CONTENT_CLASS;\n    content.setAttribute('data-state', 'hidden');\n    setContent(content, instance.props);\n    popper.appendChild(box);\n    box.appendChild(content);\n    onUpdate(instance.props, instance.props);\n    function onUpdate(prevProps, nextProps) {\n        const { box, content, arrow } = getChildren(popper);\n        if (nextProps.theme) {\n            box.setAttribute('data-theme', nextProps.theme);\n        }\n        else {\n            box.removeAttribute('data-theme');\n        }\n        if (typeof nextProps.animation === 'string') {\n            box.setAttribute('data-animation', nextProps.animation);\n        }\n        else {\n            box.removeAttribute('data-animation');\n        }\n        if (nextProps.inertia) {\n            box.setAttribute('data-inertia', '');\n        }\n        else {\n            box.removeAttribute('data-inertia');\n        }\n        box.style.maxWidth =\n            typeof nextProps.maxWidth === 'number'\n                ? `${nextProps.maxWidth}px`\n                : nextProps.maxWidth;\n        if (nextProps.role) {\n            box.setAttribute('role', nextProps.role);\n        }\n        else {\n            box.removeAttribute('role');\n        }\n        if (prevProps.content !== nextProps.content ||\n            prevProps.allowHTML !== nextProps.allowHTML) {\n            setContent(content, instance.props);\n        }\n        if (nextProps.arrow) {\n            if (!arrow) {\n                box.appendChild(createArrowElement(nextProps.arrow));\n            }\n            else if (prevProps.arrow !== nextProps.arrow) {\n                box.removeChild(arrow);\n                box.appendChild(createArrowElement(nextProps.arrow));\n            }\n        }\n        else if (arrow) {\n            box.removeChild(arrow);\n        }\n    }\n    return {\n        popper,\n        onUpdate,\n    };\n}\n// Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\nrender.$$tippy = true;\n","import { createPopper } from '@popperjs/core';\nimport { currentInput } from './bindGlobalEventListeners';\nimport { isIE11 } from './browser';\nimport { TIPPY_DEFAULT_APPEND_TO, TOUCH_OPTIONS } from './constants';\nimport { actualContains, div, getOwnerDocument, isCursorOutsideInteractiveBorder, isMouseEvent, setTransitionDuration, setVisibilityState, updateTransitionEndListener, } from './dom-utils';\nimport { defaultProps, evaluateProps, getExtendedPassedProps } from './props';\nimport { getChildren } from './template';\nimport { arrayFrom, debounce, getValueAtIndexOrReturn, invokeWithArgsOrReturn, normalizeToArray, pushIfUnique, splitBySpaces, unique, removeUndefinedProps, } from './utils';\nimport { createMemoryLeakWarning, errorWhen, warnWhen } from './validation';\nlet idCounter = 1;\nlet mouseMoveListeners = [];\n// Used by `hideAll()`\nexport let mountedInstances = [];\nexport default function createTippy(reference, passedProps) {\n    const props = evaluateProps(reference, Object.assign(Object.assign({}, defaultProps), getExtendedPassedProps(removeUndefinedProps(passedProps))));\n    // ===========================================================================\n    // ðŸ”’ Private members\n    // ===========================================================================\n    let showTimeout;\n    let hideTimeout;\n    let scheduleHideAnimationFrame;\n    let isVisibleFromClick = false;\n    let didHideDueToDocumentMouseDown = false;\n    let didTouchMove = false;\n    let ignoreOnFirstUpdate = false;\n    let lastTriggerEvent;\n    let currentTransitionEndListener;\n    let onFirstUpdate;\n    let listeners = [];\n    let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n    let currentTarget;\n    // ===========================================================================\n    // ðŸ”‘ Public members\n    // ===========================================================================\n    const id = idCounter++;\n    const popperInstance = null;\n    const plugins = unique(props.plugins);\n    const state = {\n        // Is the instance currently enabled?\n        isEnabled: true,\n        // Is the tippy currently showing and not transitioning out?\n        isVisible: false,\n        // Has the instance been destroyed?\n        isDestroyed: false,\n        // Is the tippy currently mounted to the DOM?\n        isMounted: false,\n        // Has the tippy finished transitioning in?\n        isShown: false,\n    };\n    const instance = {\n        // properties\n        id,\n        reference,\n        popper: div(),\n        popperInstance,\n        props,\n        state,\n        plugins,\n        // methods\n        clearDelayTimeouts,\n        setProps,\n        setContent,\n        show,\n        hide,\n        hideWithInteractivity,\n        enable,\n        disable,\n        unmount,\n        destroy,\n    };\n    // TODO: Investigate why this early return causes a TDZ error in the tests â€”\n    // it doesn't seem to happen in the browser\n    /* istanbul ignore if */\n    if (!props.render) {\n        if (__DEV__) {\n            errorWhen(true, 'render() function has not been supplied.');\n        }\n        return instance;\n    }\n    // ===========================================================================\n    // Initial mutations\n    // ===========================================================================\n    const { popper, onUpdate } = props.render(instance);\n    popper.setAttribute('data-__NAMESPACE_PREFIX__-root', '');\n    popper.id = `__NAMESPACE_PREFIX__-${instance.id}`;\n    instance.popper = popper;\n    reference._tippy = instance;\n    popper._tippy = instance;\n    const pluginsHooks = plugins.map((plugin) => plugin.fn(instance));\n    const hasAriaExpanded = reference.hasAttribute('aria-expanded');\n    addListeners();\n    handleAriaExpandedAttribute();\n    handleStyles();\n    invokeHook('onCreate', [instance]);\n    if (props.showOnCreate) {\n        scheduleShow();\n    }\n    // Prevent a tippy with a delay from hiding if the cursor left then returned\n    // before it started hiding\n    popper.addEventListener('mouseenter', () => {\n        if (instance.props.interactive && instance.state.isVisible) {\n            instance.clearDelayTimeouts();\n        }\n    });\n    popper.addEventListener('mouseleave', () => {\n        if (instance.props.interactive &&\n            instance.props.trigger.indexOf('mouseenter') >= 0) {\n            getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n        }\n    });\n    return instance;\n    // ===========================================================================\n    // ðŸ”’ Private methods\n    // ===========================================================================\n    function getNormalizedTouchSettings() {\n        const { touch } = instance.props;\n        return Array.isArray(touch) ? touch : [touch, 0];\n    }\n    function getIsCustomTouchBehavior() {\n        return getNormalizedTouchSettings()[0] === 'hold';\n    }\n    function getIsDefaultRenderFn() {\n        var _a;\n        // @ts-ignore\n        return !!((_a = instance.props.render) === null || _a === void 0 ? void 0 : _a.$$tippy);\n    }\n    function getCurrentTarget() {\n        return currentTarget || reference;\n    }\n    function getDocument() {\n        const parent = getCurrentTarget().parentNode;\n        return parent ? getOwnerDocument(parent) : document;\n    }\n    function getDefaultTemplateChildren() {\n        return getChildren(popper);\n    }\n    function getDelay(isShow) {\n        // For touch or keyboard input, force `0` delay for UX reasons\n        // Also if the instance is mounted but not visible (transitioning out),\n        // ignore delay\n        if ((instance.state.isMounted && !instance.state.isVisible) ||\n            currentInput.isTouch ||\n            (lastTriggerEvent && lastTriggerEvent.type === 'focus')) {\n            return 0;\n        }\n        return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n    }\n    function handleStyles(fromHide = false) {\n        popper.style.pointerEvents =\n            instance.props.interactive && !fromHide ? '' : 'none';\n        popper.style.zIndex = `${instance.props.zIndex}`;\n    }\n    function invokeHook(hook, args, shouldInvokePropsHook = true) {\n        pluginsHooks.forEach((pluginHooks) => {\n            if (pluginHooks[hook]) {\n                pluginHooks[hook](...args);\n            }\n        });\n        if (shouldInvokePropsHook) {\n            instance.props[hook](...args);\n        }\n    }\n    function handleAriaContentAttribute() {\n        const { aria } = instance.props;\n        if (!aria.content) {\n            return;\n        }\n        const attr = `aria-${aria.content}`;\n        const id = popper.id;\n        const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach((node) => {\n            const currentValue = node.getAttribute(attr);\n            if (instance.state.isVisible) {\n                node.setAttribute(attr, currentValue ? `${currentValue} ${id}` : id);\n            }\n            else {\n                const nextValue = currentValue && currentValue.replace(id, '').trim();\n                if (nextValue) {\n                    node.setAttribute(attr, nextValue);\n                }\n                else {\n                    node.removeAttribute(attr);\n                }\n            }\n        });\n    }\n    function handleAriaExpandedAttribute() {\n        if (hasAriaExpanded || !instance.props.aria.expanded) {\n            return;\n        }\n        const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach((node) => {\n            if (instance.props.interactive) {\n                node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget()\n                    ? 'true'\n                    : 'false');\n            }\n            else {\n                node.removeAttribute('aria-expanded');\n            }\n        });\n    }\n    function cleanupInteractiveMouseListeners() {\n        getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n        mouseMoveListeners = mouseMoveListeners.filter((listener) => listener !== debouncedOnMouseMove);\n    }\n    function onDocumentPress(event) {\n        // Moved finger to scroll instead of an intentional tap outside\n        if (currentInput.isTouch) {\n            if (didTouchMove || event.type === 'mousedown') {\n                return;\n            }\n        }\n        const actualTarget = (event.composedPath && event.composedPath()[0]) || event.target;\n        // Clicked on interactive popper\n        if (instance.props.interactive &&\n            actualContains(popper, actualTarget)) {\n            return;\n        }\n        // Clicked on the event listeners target\n        if (normalizeToArray(instance.props.triggerTarget || reference).some((el) => actualContains(el, actualTarget))) {\n            if (currentInput.isTouch) {\n                return;\n            }\n            if (instance.state.isVisible &&\n                instance.props.trigger.indexOf('click') >= 0) {\n                return;\n            }\n        }\n        else {\n            invokeHook('onClickOutside', [instance, event]);\n        }\n        if (instance.props.hideOnClick === true) {\n            instance.clearDelayTimeouts();\n            instance.hide();\n            // `mousedown` event is fired right before `focus` if pressing the\n            // currentTarget. This lets a tippy with `focus` trigger know that it\n            // should not show\n            didHideDueToDocumentMouseDown = true;\n            setTimeout(() => {\n                didHideDueToDocumentMouseDown = false;\n            });\n            // The listener gets added in `scheduleShow()`, but this may be hiding it\n            // before it shows, and hide()'s early bail-out behavior can prevent it\n            // from being cleaned up\n            if (!instance.state.isMounted) {\n                removeDocumentPress();\n            }\n        }\n    }\n    function onTouchMove() {\n        didTouchMove = true;\n    }\n    function onTouchStart() {\n        didTouchMove = false;\n    }\n    function addDocumentPress() {\n        const doc = getDocument();\n        doc.addEventListener('mousedown', onDocumentPress, true);\n        doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n        doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n        doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n    }\n    function removeDocumentPress() {\n        const doc = getDocument();\n        doc.removeEventListener('mousedown', onDocumentPress, true);\n        doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n        doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n        doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n    }\n    function onTransitionedOut(duration, callback) {\n        onTransitionEnd(duration, () => {\n            if (!instance.state.isVisible &&\n                popper.parentNode &&\n                popper.parentNode.contains(popper)) {\n                callback();\n            }\n        });\n    }\n    function onTransitionedIn(duration, callback) {\n        onTransitionEnd(duration, callback);\n    }\n    function onTransitionEnd(duration, callback) {\n        const box = getDefaultTemplateChildren().box;\n        function listener(event) {\n            if (event.target === box) {\n                updateTransitionEndListener(box, 'remove', listener);\n                callback();\n            }\n        }\n        // Make callback synchronous if duration is 0\n        // `transitionend` won't fire otherwise\n        if (duration === 0) {\n            return callback();\n        }\n        updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n        updateTransitionEndListener(box, 'add', listener);\n        currentTransitionEndListener = listener;\n    }\n    function on(eventType, handler, options = false) {\n        const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach((node) => {\n            node.addEventListener(eventType, handler, options);\n            listeners.push({ node, eventType, handler, options });\n        });\n    }\n    function addListeners() {\n        if (getIsCustomTouchBehavior()) {\n            on('touchstart', onTrigger, { passive: true });\n            on('touchend', onMouseLeave, { passive: true });\n        }\n        splitBySpaces(instance.props.trigger).forEach((eventType) => {\n            if (eventType === 'manual') {\n                return;\n            }\n            on(eventType, onTrigger);\n            switch (eventType) {\n                case 'mouseenter':\n                    on('mouseleave', onMouseLeave);\n                    break;\n                case 'focus':\n                    on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n                    break;\n                case 'focusin':\n                    on('focusout', onBlurOrFocusOut);\n                    break;\n            }\n        });\n    }\n    function removeListeners() {\n        listeners.forEach(({ node, eventType, handler, options }) => {\n            node.removeEventListener(eventType, handler, options);\n        });\n        listeners = [];\n    }\n    function onTrigger(event) {\n        let shouldScheduleClickHide = false;\n        if (!instance.state.isEnabled ||\n            isEventListenerStopped(event) ||\n            didHideDueToDocumentMouseDown) {\n            return;\n        }\n        const wasFocused = (lastTriggerEvent === null || lastTriggerEvent === void 0 ? void 0 : lastTriggerEvent.type) === 'focus';\n        lastTriggerEvent = event;\n        currentTarget = event.currentTarget;\n        handleAriaExpandedAttribute();\n        if (!instance.state.isVisible && isMouseEvent(event)) {\n            // If scrolling, `mouseenter` events can be fired if the cursor lands\n            // over a new target, but `mousemove` events don't get fired. This\n            // causes interactive tooltips to get stuck open until the cursor is\n            // moved\n            mouseMoveListeners.forEach((listener) => listener(event));\n        }\n        // Toggle show/hide when clicking click-triggered tooltips\n        if (event.type === 'click' &&\n            (instance.props.trigger.indexOf('mouseenter') < 0 ||\n                isVisibleFromClick) &&\n            instance.props.hideOnClick !== false &&\n            instance.state.isVisible) {\n            shouldScheduleClickHide = true;\n        }\n        else {\n            scheduleShow(event);\n        }\n        if (event.type === 'click') {\n            isVisibleFromClick = !shouldScheduleClickHide;\n        }\n        if (shouldScheduleClickHide && !wasFocused) {\n            scheduleHide(event);\n        }\n    }\n    function onMouseMove(event) {\n        const target = event.target;\n        const isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n        if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n            return;\n        }\n        const popperTreeData = getNestedPopperTree()\n            .concat(popper)\n            .map((popper) => {\n            var _a;\n            const instance = popper._tippy;\n            const state = (_a = instance.popperInstance) === null || _a === void 0 ? void 0 : _a.state;\n            if (state) {\n                return {\n                    popperRect: popper.getBoundingClientRect(),\n                    popperState: state,\n                    props,\n                };\n            }\n            return null;\n        })\n            .filter(Boolean);\n        if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n            cleanupInteractiveMouseListeners();\n            scheduleHide(event);\n        }\n    }\n    function onMouseLeave(event) {\n        const shouldBail = isEventListenerStopped(event) ||\n            (instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick);\n        if (shouldBail) {\n            return;\n        }\n        if (instance.props.interactive) {\n            instance.hideWithInteractivity(event);\n            return;\n        }\n        scheduleHide(event);\n    }\n    function onBlurOrFocusOut(event) {\n        if (instance.props.trigger.indexOf('focusin') < 0 &&\n            event.target !== getCurrentTarget()) {\n            return;\n        }\n        // If focus was moved to within the popper\n        if (instance.props.interactive &&\n            event.relatedTarget &&\n            popper.contains(event.relatedTarget)) {\n            return;\n        }\n        scheduleHide(event);\n    }\n    function isEventListenerStopped(event) {\n        return currentInput.isTouch\n            ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0\n            : false;\n    }\n    function createPopperInstance() {\n        destroyPopperInstance();\n        const { popperOptions, placement, offset, getReferenceClientRect, moveTransition, } = instance.props;\n        const arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n        const computedReference = getReferenceClientRect\n            ? {\n                getBoundingClientRect: getReferenceClientRect,\n                contextElement: getReferenceClientRect.contextElement || getCurrentTarget(),\n            }\n            : reference;\n        const tippyModifier = {\n            name: '$$tippy',\n            enabled: true,\n            phase: 'beforeWrite',\n            requires: ['computeStyles'],\n            fn({ state }) {\n                if (getIsDefaultRenderFn()) {\n                    const { box } = getDefaultTemplateChildren();\n                    ['placement', 'reference-hidden', 'escaped'].forEach((attr) => {\n                        if (attr === 'placement') {\n                            box.setAttribute('data-placement', state.placement);\n                        }\n                        else {\n                            if (state.attributes.popper[`data-popper-${attr}`]) {\n                                box.setAttribute(`data-${attr}`, '');\n                            }\n                            else {\n                                box.removeAttribute(`data-${attr}`);\n                            }\n                        }\n                    });\n                    state.attributes.popper = {};\n                }\n            },\n        };\n        const modifiers = [\n            {\n                name: 'offset',\n                options: {\n                    offset,\n                },\n            },\n            {\n                name: 'preventOverflow',\n                options: {\n                    padding: {\n                        top: 2,\n                        bottom: 2,\n                        left: 5,\n                        right: 5,\n                    },\n                },\n            },\n            {\n                name: 'flip',\n                options: {\n                    padding: 5,\n                },\n            },\n            {\n                name: 'computeStyles',\n                options: {\n                    adaptive: !moveTransition,\n                },\n            },\n            tippyModifier,\n        ];\n        if (getIsDefaultRenderFn() && arrow) {\n            modifiers.push({\n                name: 'arrow',\n                options: {\n                    element: arrow,\n                    padding: 3,\n                },\n            });\n        }\n        modifiers.push(...((popperOptions === null || popperOptions === void 0 ? void 0 : popperOptions.modifiers) || []));\n        instance.popperInstance = createPopper(computedReference, popper, Object.assign(Object.assign({}, popperOptions), { placement,\n            onFirstUpdate,\n            modifiers }));\n    }\n    function destroyPopperInstance() {\n        if (instance.popperInstance) {\n            instance.popperInstance.destroy();\n            instance.popperInstance = null;\n        }\n    }\n    function mount() {\n        const { appendTo } = instance.props;\n        let parentNode;\n        // By default, we'll append the popper to the triggerTargets's parentNode so\n        // it's directly after the reference element so the elements inside the\n        // tippy can be tabbed to\n        // If there are clipping issues, the user can specify a different appendTo\n        // and ensure focus management is handled correctly manually\n        const node = getCurrentTarget();\n        if ((instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO) ||\n            appendTo === 'parent') {\n            parentNode = node.parentNode;\n        }\n        else {\n            parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n        }\n        // The popper element needs to exist on the DOM before its position can be\n        // updated as Popper needs to read its dimensions\n        if (!parentNode.contains(popper)) {\n            parentNode.appendChild(popper);\n        }\n        instance.state.isMounted = true;\n        createPopperInstance();\n        /* istanbul ignore else */\n        if (__DEV__) {\n            // Accessibility check\n            warnWhen(instance.props.interactive &&\n                appendTo === defaultProps.appendTo &&\n                node.nextElementSibling !== popper, [\n                'Interactive tippy element may not be accessible via keyboard',\n                'navigation because it is not directly after the reference element',\n                'in the DOM source order.',\n                '\\n\\n',\n                'Using a wrapper <div> or <span> tag around the reference element',\n                'solves this by creating a new parentNode context.',\n                '\\n\\n',\n                'Specifying `appendTo: document.body` silences this warning, but it',\n                'assumes you are using a focus management solution to handle',\n                'keyboard navigation.',\n                '\\n\\n',\n                'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity',\n            ].join(' '));\n        }\n    }\n    function getNestedPopperTree() {\n        return arrayFrom(popper.querySelectorAll('[data-__NAMESPACE_PREFIX__-root]'));\n    }\n    function scheduleShow(event) {\n        instance.clearDelayTimeouts();\n        if (event) {\n            invokeHook('onTrigger', [instance, event]);\n        }\n        addDocumentPress();\n        let delay = getDelay(true);\n        const [touchValue, touchDelay] = getNormalizedTouchSettings();\n        if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n            delay = touchDelay;\n        }\n        if (delay) {\n            showTimeout = setTimeout(() => {\n                instance.show();\n            }, delay);\n        }\n        else {\n            instance.show();\n        }\n    }\n    function scheduleHide(event) {\n        instance.clearDelayTimeouts();\n        invokeHook('onUntrigger', [instance, event]);\n        if (!instance.state.isVisible) {\n            removeDocumentPress();\n            return;\n        }\n        // For interactive tippies, scheduleHide is added to a document.body handler\n        // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n        // events when trigger contains mouseenter and click, and the tip is\n        // currently shown as a result of a click.\n        if (instance.props.trigger.indexOf('mouseenter') >= 0 &&\n            instance.props.trigger.indexOf('click') >= 0 &&\n            ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 &&\n            isVisibleFromClick) {\n            return;\n        }\n        const delay = getDelay(false);\n        if (delay) {\n            hideTimeout = setTimeout(() => {\n                if (instance.state.isVisible) {\n                    instance.hide();\n                }\n            }, delay);\n        }\n        else {\n            // Fixes a `transitionend` problem when it fires 1 frame too\n            // late sometimes, we don't want hide() to be called.\n            scheduleHideAnimationFrame = requestAnimationFrame(() => {\n                instance.hide();\n            });\n        }\n    }\n    // ===========================================================================\n    // ðŸ”‘ Public methods\n    // ===========================================================================\n    function enable() {\n        instance.state.isEnabled = true;\n    }\n    function disable() {\n        // Disabling the instance should also hide it\n        // https://github.com/atomiks/tippy.js-react/issues/106\n        instance.hide();\n        instance.state.isEnabled = false;\n    }\n    function clearDelayTimeouts() {\n        clearTimeout(showTimeout);\n        clearTimeout(hideTimeout);\n        cancelAnimationFrame(scheduleHideAnimationFrame);\n    }\n    function setProps(partialProps) {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n        }\n        if (instance.state.isDestroyed) {\n            return;\n        }\n        invokeHook('onBeforeUpdate', [instance, partialProps]);\n        removeListeners();\n        const prevProps = instance.props;\n        const nextProps = evaluateProps(reference, Object.assign(Object.assign(Object.assign({}, prevProps), removeUndefinedProps(partialProps)), { ignoreAttributes: true }));\n        instance.props = nextProps;\n        addListeners();\n        if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n            cleanupInteractiveMouseListeners();\n            debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n        }\n        // Ensure stale aria-expanded attributes are removed\n        if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n            normalizeToArray(prevProps.triggerTarget).forEach((node) => {\n                node.removeAttribute('aria-expanded');\n            });\n        }\n        else if (nextProps.triggerTarget) {\n            reference.removeAttribute('aria-expanded');\n        }\n        handleAriaExpandedAttribute();\n        handleStyles();\n        if (onUpdate) {\n            onUpdate(prevProps, nextProps);\n        }\n        if (instance.popperInstance) {\n            createPopperInstance();\n            // Fixes an issue with nested tippies if they are all getting re-rendered,\n            // and the nested ones get re-rendered first.\n            // https://github.com/atomiks/tippyjs-react/issues/177\n            // TODO: find a cleaner / more efficient solution(!)\n            getNestedPopperTree().forEach((nestedPopper) => {\n                // React (and other UI libs likely) requires a rAF wrapper as it flushes\n                // its work in one\n                requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n            });\n        }\n        invokeHook('onAfterUpdate', [instance, partialProps]);\n    }\n    function setContent(content) {\n        instance.setProps({ content });\n    }\n    function show() {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n        }\n        // Early bail-out\n        const isAlreadyVisible = instance.state.isVisible;\n        const isDestroyed = instance.state.isDestroyed;\n        const isDisabled = !instance.state.isEnabled;\n        const isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n        const duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n        if (isAlreadyVisible ||\n            isDestroyed ||\n            isDisabled ||\n            isTouchAndTouchDisabled) {\n            return;\n        }\n        // Normalize `disabled` behavior across browsers.\n        // Firefox allows events on disabled elements, but Chrome doesn't.\n        // Using a wrapper element (i.e. <span>) is recommended.\n        if (getCurrentTarget().hasAttribute('disabled')) {\n            return;\n        }\n        invokeHook('onShow', [instance], false);\n        if (instance.props.onShow(instance) === false) {\n            return;\n        }\n        instance.state.isVisible = true;\n        if (getIsDefaultRenderFn()) {\n            popper.style.visibility = 'visible';\n        }\n        handleStyles();\n        addDocumentPress();\n        if (!instance.state.isMounted) {\n            popper.style.transition = 'none';\n        }\n        // If flipping to the opposite side after hiding at least once, the\n        // animation will use the wrong placement without resetting the duration\n        if (getIsDefaultRenderFn()) {\n            const { box, content } = getDefaultTemplateChildren();\n            setTransitionDuration([box, content], 0);\n        }\n        onFirstUpdate = () => {\n            var _a;\n            if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n                return;\n            }\n            ignoreOnFirstUpdate = true;\n            // reflow\n            void popper.offsetHeight;\n            popper.style.transition = instance.props.moveTransition;\n            if (getIsDefaultRenderFn() && instance.props.animation) {\n                const { box, content } = getDefaultTemplateChildren();\n                setTransitionDuration([box, content], duration);\n                setVisibilityState([box, content], 'visible');\n            }\n            handleAriaContentAttribute();\n            handleAriaExpandedAttribute();\n            pushIfUnique(mountedInstances, instance);\n            // certain modifiers (e.g. `maxSize`) require a second update after the\n            // popper has been positioned for the first time\n            (_a = instance.popperInstance) === null || _a === void 0 ? void 0 : _a.forceUpdate();\n            invokeHook('onMount', [instance]);\n            if (instance.props.animation && getIsDefaultRenderFn()) {\n                onTransitionedIn(duration, () => {\n                    instance.state.isShown = true;\n                    invokeHook('onShown', [instance]);\n                });\n            }\n        };\n        mount();\n    }\n    function hide() {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n        }\n        // Early bail-out\n        const isAlreadyHidden = !instance.state.isVisible;\n        const isDestroyed = instance.state.isDestroyed;\n        const isDisabled = !instance.state.isEnabled;\n        const duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n        if (isAlreadyHidden || isDestroyed || isDisabled) {\n            return;\n        }\n        invokeHook('onHide', [instance], false);\n        if (instance.props.onHide(instance) === false) {\n            return;\n        }\n        instance.state.isVisible = false;\n        instance.state.isShown = false;\n        ignoreOnFirstUpdate = false;\n        isVisibleFromClick = false;\n        if (getIsDefaultRenderFn()) {\n            popper.style.visibility = 'hidden';\n        }\n        cleanupInteractiveMouseListeners();\n        removeDocumentPress();\n        handleStyles(true);\n        if (getIsDefaultRenderFn()) {\n            const { box, content } = getDefaultTemplateChildren();\n            if (instance.props.animation) {\n                setTransitionDuration([box, content], duration);\n                setVisibilityState([box, content], 'hidden');\n            }\n        }\n        handleAriaContentAttribute();\n        handleAriaExpandedAttribute();\n        if (instance.props.animation) {\n            if (getIsDefaultRenderFn()) {\n                onTransitionedOut(duration, instance.unmount);\n            }\n        }\n        else {\n            instance.unmount();\n        }\n    }\n    function hideWithInteractivity(event) {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n        }\n        getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n        pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n        debouncedOnMouseMove(event);\n    }\n    function unmount() {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n        }\n        if (instance.state.isVisible) {\n            instance.hide();\n        }\n        if (!instance.state.isMounted) {\n            return;\n        }\n        destroyPopperInstance();\n        // If a popper is not interactive, it will be appended outside the popper\n        // tree by default. This seems mainly for interactive tippies, but we should\n        // find a workaround if possible\n        getNestedPopperTree().forEach((nestedPopper) => {\n            nestedPopper._tippy.unmount();\n        });\n        if (popper.parentNode) {\n            popper.parentNode.removeChild(popper);\n        }\n        mountedInstances = mountedInstances.filter((i) => i !== instance);\n        instance.state.isMounted = false;\n        invokeHook('onHidden', [instance]);\n    }\n    function destroy() {\n        /* istanbul ignore else */\n        if (__DEV__) {\n            warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n        }\n        if (instance.state.isDestroyed) {\n            return;\n        }\n        instance.clearDelayTimeouts();\n        instance.unmount();\n        removeListeners();\n        delete reference._tippy;\n        instance.state.isDestroyed = true;\n        invokeHook('onDestroy', [instance]);\n    }\n}\n"],"names":["CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","passive","capture","TIPPY_DEFAULT_APPEND_TO","document","body","getValueAtIndexOrReturn","value","index","defaultValue","Array","isArray","v","isType","type","str","toString","call","indexOf","invokeWithArgsOrReturn","args","debounce","fn","ms","timeout","arg","clearTimeout","setTimeout","splitBySpaces","split","filter","Boolean","normalizeToArray","concat","pushIfUnique","arr","push","unique","item","getBasePlacement","placement","arrayFrom","slice","removeUndefinedProps","obj","Object","keys","reduce","acc","key","undefined","div","createElement","isMouseEvent","setTransitionDuration","els","forEach","el","style","transitionDuration","setVisibilityState","state","setAttribute","getOwnerDocument","elementOrElements","_a","element","ownerDocument","isCursorOutsideInteractiveBorder","popperTreeData","event","clientX","clientY","every","popperRect","popperState","props","interactiveBorder","basePlacement","offsetData","modifiersData","offset","topDistance","top","y","bottomDistance","bottom","leftDistance","left","x","rightDistance","right","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","updateTransitionEndListener","box","action","listener","method","actualContains","parent","child","_b","target","contains","getRootNode","host","currentInput","isTouch","isBrowser","window","isIE11","msCrypto","createMemoryLeakWarning","txt","join","clean","spacesAndTabs","lineStartWithSpaces","replace","trim","getDevMessage","message","getFormattedMessage","visitedMessages","resetVisitedMessages","Set","warnWhen","condition","has","add","console","warn","errorWhen","error","pluginProps","animateFill","followCursor","inlinePositioning","sticky","renderProps","allowHTML","animation","arrow","content","inertia","maxWidth","role","theme","zIndex","defaultProps","assign","appendTo","aria","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","render","showOnCreate","touch","trigger","triggerTarget","defaultKeys","getExtendedPassedProps","passedProps","plugin","name","getDataAttributeProps","reference","propKeys","valueAsString","getAttribute","JSON","parse","e","evaluateProps","out","getChildren","popper","firstElementChild","boxChildren","children","find","node","classList","backdrop","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","isVisibleFromClick","didHideDueToDocumentMouseDown","ignoreOnFirstUpdate","lastTriggerEvent","currentTransitionEndListener","onFirstUpdate","listeners","debouncedOnMouseMove","onMouseMove","currentTarget","id","popperInstance","isEnabled","isVisible","isDestroyed","isMounted","isShown","instance","clearDelayTimeouts","setProps","setContent","show","hide","hideWithInteractivity","enable","disable","unmount","destroy","onUpdate","_tippy","pluginsHooks","map","hasAriaExpanded","hasAttribute","addListeners","handleAriaExpandedAttribute","handleStyles","invokeHook","scheduleShow","addEventListener","getDocument","getNormalizedTouchSettings","getIsCustomTouchBehavior","getIsDefaultRenderFn","$$tippy","getCurrentTarget","parentNode","getDefaultTemplateChildren","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","pluginHooks","handleAriaContentAttribute","attr","nodes","currentValue","nextValue","removeAttribute","cleanupInteractiveMouseListeners","removeEventListener","onDocumentPress","actualTarget","composedPath","some","removeDocumentPress","onTouchMove","didTouchMove","onTouchStart","addDocumentPress","doc","onTransitionedOut","callback","onTransitionEnd","onTransitionedIn","on","eventType","handler","options","onMouseLeave","onBlurOrFocusOut","removeListeners","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","getNestedPopperTree","getBoundingClientRect","shouldBail","relatedTarget","createPopperInstance","destroyPopperInstance","computedReference","contextElement","tippyModifier","enabled","phase","requires","attributes","modifiers","padding","adaptive","createPopper","mount","appendChild","nextElementSibling","querySelectorAll","touchValue","touchDelay","requestAnimationFrame","cancelAnimationFrame","partialProps","prevProps","nextProps","nestedPopper","forceUpdate","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","visibility","transition","offsetHeight","isAlreadyHidden","removeChild","i"],"mappings":"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"}